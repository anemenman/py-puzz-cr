def spiralize(size):
    return [[
        min(i + 1, size - i, j + 1, size - j) & 1 ^ (i == j + 1 and (j if size % 4 == 2 else i) * 2 < size)
        for j in range(size)]
        for i in range(size)]


assert spiralize(5) == [[1, 1, 1, 1, 1],
                        [0, 0, 0, 0, 1],
                        [1, 1, 1, 0, 1],
                        [1, 0, 0, 0, 1],
                        [1, 1, 1, 1, 1]]

assert spiralize(8) == [[1, 1, 1, 1, 1, 1, 1, 1],
                        [0, 0, 0, 0, 0, 0, 0, 1],
                        [1, 1, 1, 1, 1, 1, 0, 1],
                        [1, 0, 0, 0, 0, 1, 0, 1],
                        [1, 0, 1, 0, 0, 1, 0, 1],
                        [1, 0, 1, 1, 1, 1, 0, 1],
                        [1, 0, 0, 0, 0, 0, 0, 1],
                        [1, 1, 1, 1, 1, 1, 1, 1]]

assert spiralize(10) == [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                         [0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                         [1, 1, 1, 1, 1, 1, 1, 1, 0, 1],
                         [1, 0, 0, 0, 0, 0, 0, 1, 0, 1],
                         [1, 0, 1, 1, 1, 1, 0, 1, 0, 1],
                         [1, 0, 1, 0, 0, 1, 0, 1, 0, 1],
                         [1, 0, 1, 0, 0, 0, 0, 1, 0, 1],
                         [1, 0, 1, 1, 1, 1, 1, 1, 0, 1],
                         [1, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                         [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]
